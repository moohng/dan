!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).dan={})}(this,function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,t)}var n,r,i;return n=e,(r=[{key:"hasError",value:function(){return Object.keys(this).length>0}},{key:"first",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object.values(this)[e-1]}},{key:"firstKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object.keys(this)[e-1]}}])&&t(n.prototype,r),i&&t(n,i),e}();function o(e,t,o){var a=t?Object.keys(t):[];if(!a.length)return new i;var c={},u={};return a.forEach(function(i){var o=t[i]||{};"boolean"==typeof o&&(o={required:o}),"string"==typeof o&&(o={required:!0,alias:o});var a=e[i],f=null==a||""===a||Number.isNaN(a)||"{}"===JSON.stringify(a)||"[]"===JSON.stringify(a),l=o,s=l.required,y=l.pattern,v=l.validate,d=l.alias,g=void 0===d?i:d,b=l.message,p=void 0===b?"请输入正确的".concat(g):b,h=l.trim,O=void 0===h||h,j=l.min,m=void 0===j?0:j,k=l.max,w=void 0===k?0:k,E=l.length,P=void 0===E?0:E;O&&"string"==typeof a&&(a=a.trim());var S=null;if(s&&f)S="string"==typeof s?s:"请输入".concat(g);else if(!f&&(P&&a.length!==P||m&&(/^\d+$/.test(a)?a<m:a.length<m)||w&&(/^\d+$/.test(a)?a>w:a.length>w)||y&&y instanceof RegExp&&!y.test(a)))S=p;else if(!f&&"function"==typeof v){var q=v(a,e);S="string"==typeof q?q:q?null:p}c=S?c:r({},c,n({},i,a)),u=S?r({},u,n({},i,S)):u}),u=new i(u),"function"==typeof o&&(u.hasError()?o(u):o(!1,c)),u}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r=e[n],i="&".concat(n,"=").concat(r);return Array.isArray(r)&&(i=r.reduce(function(e,t){return"".concat(e,"&").concat(n,"=").concat(t)},"")),t+i},"").slice(1)}var c={validator:o,queryStringify:a};e.default=c,e.queryStringify=a,e.validator=o,Object.defineProperty(e,"__esModule",{value:!0})});
