!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).dan={})}(this,function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,t)}var n,r,i;return n=e,(r=[{key:"hasError",value:function(){return Object.keys(this).length>0}},{key:"first",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object.values(this)[e-1]}},{key:"firstKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object.keys(this)[e-1]}}])&&t(n.prototype,r),i&&t(n,i),e}();function o(e,t,o){var a=t?Object.keys(t):[];if(!a.length)return new i;var f={},u={};return a.forEach(function(i){var o=t[i]||{};"boolean"==typeof o&&(o={required:o}),"string"==typeof o&&(o={required:!0,alias:o});var a=e[i],l=null==a||""===a||Number.isNaN(a)||"{}"===JSON.stringify(a)||"[]"===JSON.stringify(a),c=o,s=c.required,v=c.pattern,y=c.validate,d=c.alias,p=void 0===d?i:d,b=c.message,g=void 0===b?"请输入正确的".concat(p):b,h=c.trim,O=void 0===h||h,m=c.min,j=void 0===m?0:m,w=c.max,k=void 0===w?0:w,E=c.length,P=void 0===E?0:E;O&&"string"==typeof a&&(a=a.trim());var x=null;if(s&&l)x="string"==typeof s?s:"请输入".concat(p);else if(!l&&(P&&a.length!==P||j&&(/^\d+$/.test(a)?a<j:a.length<j)||k&&(/^\d+$/.test(a)?a>k:a.length>k)||v&&v instanceof RegExp&&!v.test(a)))x=g;else if(!l&&"function"==typeof y){var N=y(a,e);x="string"==typeof N?N:N?null:g}f=x?f:r({},f,n({},i,a)),u=x?r({},u,n({},i,x)):u}),u=new i(u),"function"==typeof o&&(u.hasError()?o(u):o(!1,f)),u}var a={validator:o};e.default=a,e.validator=o,Object.defineProperty(e,"__esModule",{value:!0})});
